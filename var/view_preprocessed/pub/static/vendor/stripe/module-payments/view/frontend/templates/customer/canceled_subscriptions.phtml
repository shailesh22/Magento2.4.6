<?php $canceledSubscriptions = $block->getCanceledSubscriptions(); if (empty($canceledSubscriptions)) return; ?> <tr><td colspan="3" style="border-top: 0"><h3><?= __("Canceled Subscriptions"); ?></h3></td></tr><?php foreach ($canceledSubscriptions as $subscription) : ?> <?php /** @var \StripeIntegration\Payments\Model\Stripe\Subscription $stripeSubscriptionModel */ $stripeSubscriptionModel = $block->getSubscriptionModel($subscription); ?> <tr class="<?= $subscription->id; ?>"><td data-th="Order #" class="col order"><a href="viewOrder/<?= $subscription->metadata["Order #"]; ?>"><?= $subscription->metadata["Order #"]; ?></a></td><td data-th="<?= __("Subscription"); ?>" class="col id"><div class="subscription-name"><?= $block->getSubscriptionName($subscription); ?></div><div class="billed"><?= $stripeSubscriptionModel->getFormattedBilling(); ?></div><div class="<?= $subscription->id; ?> payment-method stripe-subscription-edit"><div class="static section"><div class="details stripe-payments"><?php $paymentMethod = $block->getSubscriptionDefaultPaymentMethod($subscription); ?> <?php if ($paymentMethod) : ?> <img class="icon" src="<?= $paymentMethod['icon']; ?>" alt="<?= $paymentMethod['label']; ?>"><span class="label"><?= $paymentMethod['label']; ?></span> <?php if (!empty($paymentMethod['exp_month'])) : ?> <span class="exp"><?= $paymentMethod['exp_month']; ?>/<?= $paymentMethod['exp_year']; ?></span> <?php endif; ?> <?php else : ?> <?= __("No payment method."); ?> <?php endif; ?></div></div></div></td><td data-th="Actions" class="col"><div class="primary"><button type="button" onclick="location.href='<?= $block->getUrl('stripe/customer/subscriptions/reactivate/' . $subscription->id); ?>';" class="action" title="<?= __("Reactivate"); ?>"><span><?= __("Reactivate"); ?></span></button></div></td></tr><?php endforeach; ?>